
/*!
 * Queiroz.js 3.4.42
 * JavaScript Extension for Dimep Kairos
 * https://github.com/viniciusknob/queiroz.js
 */

!function(e){var t={name:"Queiroz.js",version:"3.4.42",description:"Queiroz.js 3.4.42",module:{}};e.Queiroz=t}(window),function(){Array.prototype.last=function(){return this[this.length-1]},Array.prototype.contains=function(e){return this.indexOf(e)>-1},Date.now=function(){return new Date},Date.parseKairos=function(e){var t=e.split(" "),n=t[0].split("_"),i=t[1].split(":");return new Date(n[2],n[1]-1,n[0],i[0],i[1])},Date.prototype.isToday=function(){var e=Date.now();return this.getDayOfMonth()===e.getDayOfMonth()&&this.getMonth()===e.getMonth()&&this.getFullYear()===e.getFullYear()},Date.prototype.getFixedMonth=function(){return this.getMonth()+1},Date.prototype.getDateAsKairos=function(){return this.getDate().padStart(2)+"_"+this.getFixedMonth().padStart(2)+"_"+this.getFullYear()},Date.prototype.getTimeAsString=function(){return this.getHours().padStart(2)+":"+this.getMinutes().padStart(2)},Date.prototype.getDayOfMonth=function(){return this.getDate()},Date.prototype.getMillis=function(){return this.getTime()},Storage.prototype.hasItem=function(e){return!!this.getItem(e)},Number.prototype.padStart=function(e){for(var t=""+this;t.length<e;)t="0"+t;return t},Element.prototype.remove=function(){this.parentElement.removeChild(this)},Element.prototype.data=function(e,t){return t?this.setAttribute(e,t):this.getAttribute(e)},String.prototype.contains=function(e){return this.indexOf(e)>-1}}(),function(e,t){var n=function(){var t="settings",n={_static_:{userscriptDelay:1e3,maxConsecutiveMinutes:360,maxDailyMinutes:600,weeklyGoalMinutes:2640,dailyGoalMinutes:528,workDays:[1,2,3,4,5],initialWeekday:1,gaTrackingId:"UA-105390656-1",qzKeepalive:6e4,ksKeepalive:12e5,noticeRangeMinutes:[15,5,3,1],notice_icon:"https://github.com/viniciusknob/queiroz.js/raw/master/src/img/ic_notification.png"},_mutable_:{hideLastWeekDays:!0}},i={hideLastWeekDays:"hideLastWeekDays"},o={},a=function(){e.setItem(t,JSON.stringify(o))},r=function(e){return"boolean"==typeof e?(o[i.hideLastWeekDays]=e,void a()):"boolean"==typeof o[i.hideLastWeekDays]?o[i.hideLastWeekDays]:n._mutable_.hideLastWeekDays};return e.hasItem(t)&&(o=JSON.parse(e.getItem(t))),{USERSCRIPT_DELAY:n._static_.userscriptDelay,MAX_CONSECUTIVE_MINUTES:n._static_.maxConsecutiveMinutes,MAX_DAILY_MINUTES:n._static_.maxDailyMinutes,WEEKLY_GOAL_MINUTES:n._static_.weeklyGoalMinutes,DAILY_GOAL_MINUTES:n._static_.dailyGoalMinutes,WORK_DAYS:n._static_.workDays,INITIAL_WEEKDAY:n._static_.initialWeekday,GA_TRACKING_ID:n._static_.gaTrackingId,QZ_KEEPALIVE:n._static_.qzKeepalive,KS_KEEPALIVE:n._static_.ksKeepalive,NOTICE_RANGE_MINUTES:n._static_.noticeRangeMinutes,NOTICE_ICON:n._static_.notice_icon,hideLastWeekDays:r}}();t.module.settings=n}(localStorage,Queiroz),function(e,t){t("create",e.module.settings.GA_TRACKING_ID,"auto","qzTkr"),t("qzTkr.set",{appName:e.name,appVersion:e.version}),t("qzTkr.send","screenview",{screenName:document.querySelector(".PageTitle").textContent})}(Queiroz,ga),function(e,t){var n=function(){return{reload:function(){e.location.reload(!0)}}}();t.module.kairos=n}(window,Queiroz),function(e,t,n,i,o){var a=o.module,r=a.settings,l=a.kairos,s=function(){var a=!1,s=!1,c=function(){a&&i(a),s&&t(s),a=!1,s=!1},d=function(){a&&s||(c(),r.QZ_KEEPALIVE&&(a=n(o.reload,r.QZ_KEEPALIVE)),r.KS_KEEPALIVE&&(s=e(l.reload,r.KS_KEEPALIVE)))};return{init:d,update:function(e,t){t.isActive?c():d()}}}();o.module.keepalive=s}(setTimeout,clearTimeout,setInterval,clearInterval,Queiroz),function(e){var t=function(e){return t._[e]};t._={pending:"Pendente",extra:"Extra",balance:"Saldo do dia",totalBalance:"Saldo Total",labor:"Efetuado",shift:"_n_&ordm; Turno",working:"Trabalhando...",exit:"Atinge _s_","exit+":"Meta + Saldo",config:"Config",weeklyGoal:"Meta Semanal",dailyGoal:"Meta do dia",timeOn:"Falta Abonada",mockTime:"Mock Time",notice:"Notificações",noticeMaxConsecutive:"Em _min_min você atingirá 6h de trabalho sem intervalo",noticeDailyGoal:"Em _min_min você completará a Meta Diária de 8h48",noticeBalancedLeave:"Em _min_min seu saldo total de horas será zerado",noticeMaxDaily:"Em _min_min você atingirá 10h, o máximo permitido por dia",noticeWeeklyGoal:"Em _min_min você completará a Meta Semanal de 44h",menuIcon:"&#9776;",menuItemHideLastWeekDays:"Ocultar dias da semana anterior",menuItemAbout:"Sobre"},e.module.strings=t}(Queiroz),function(e){var t={CSS:"html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[hidden]{display:none}#SemanaApontamentos{cursor:default!important}.ContentTable{margin-top:inherit}.FilledSlot,.LastSlot,.emptySlot{height:inherit;padding:5px}.FilledSlot span{margin:inherit!important}.qz-text-center{text-align:center}.qz-text-left{text-align:left}.qz-text-primary{color:brown}.qz-text-golden{color:#b8860b}.qz-text-green{color:green}.qz-text-teal{color:teal}.qz-text-black{color:#000}.qz-text-purple{color:#639}.qz-text-orange{color:#e27300}.qz-box{padding:5px 10px;margin:5px 1px;border:#a9a9a9 1px solid;min-width:60px}.qz-box-compact{min-width:auto}.qz-box-inline{display:inline-block}.qz-box-head{float:right}.qz-box-icon{min-width:auto;font-size:25px;border:initial}.qz-box-muted{background-color:#d3d3d3}.qz-box .qz-box-content{vertical-align:middle}.qz-help-text{font-size:10px}.qz-input-time{height:13px;width:45px;text-align:center;padding:2px;margin:5px 0}.qz-input-error{border-color:red}.qz-fa{-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none}.qz-fa-se{float:right;margin:-10px -8px 0 0}.qz-fa-sw{float:left;margin:-10px 0 0 -8px}.qz-toggle{margin-top:10px}.fa-toggle-on{color:green}.fa-toggle-off{color:grey}.js-show{display:block}.js-hide{display:none}.fa-chevron-down,.fa-chevron-up{margin:0 2.5px}.qz-dropdown{position:relative}.qz-dropdown-content{display:none;position:absolute;background-color:#f9f9f9;border:#a9a9a9 1px solid;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);padding:2px;z-index:1024}.qz-dropdown:hover .qz-dropdown-content{display:block}.qz-dropdown-content p{font-weight:400;padding:5px;font-size:11px}.qz-dropdown-content p:hover{background-color:khaki}.qz-menu{min-width:200px;left:-160px}.qz-menu-item-icon{float:right;margin:-1px}.qz-menu-item-anchor{color:inherit;cursor:inherit}.qz-column-menu{margin-right:10px;vertical-align:text-bottom;display:inline}.qz-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1024;background-color:rgba(0,0,0,.5)}.qz-modal-dialog{position:relative;width:900px;margin:30px auto}.qz-modal-content{position:relative;background-color:#fff;background-clip:padding-box;border-radius:5px}.qz-modal-header{padding:10px;border-bottom:1px solid #d3d3d3;font-weight:700;font-size:16px}.qz-modal-close{float:right;cursor:pointer;background:0 0;border:0;padding:0;color:silver}.qz-modal-body{padding:10px}.qz-modal-footer{padding:10px;border-top:1px solid #d3d3d3;text-align:center}"};e.module.style=t}(Queiroz),function(e,t){var n=t.module,i=n.settings,o=n.kairos,a=n.strings,r=n.style,l=function(){var n={BR:"br",DIV:"div",A:"a",P:"p",SPAN:"span",STYLE:"style",STRONG:"strong",BUTTON:"button",SMALL:"small",TABLE:"table",THEAD:"thead",TBODY:"tbody",TH:"th",TR:"tr",TD:"td",INPUT:"input"},l=function(t,n,i){var o=e.createElement(t);return n&&(o.className=n),i&&(o.innerHTML=i),o},s=function(e){var t=l(n.DIV,"qz-box qz-box-muted qz-text-center"),i=l(n.DIV,"qz-help-text",a(e.helpText)),o=l(n.STRONG,"qz-box-content "+e.contentClass,e.humanTime);return t.appendChild(i),t.appendChild(o),e.inlineText&&(t.className+=" qz-box-inline"),t},c=function(e){e.init();var t=l(n.DIV,"qz-box qz-box-muted qz-text-center js-has-edit-box"),i=l(n.DIV,"qz-help-text",e.helpText),o=l(n.DIV),a=l(n.INPUT,"qz-input-time js-input-time"),r=l(n.SPAN,"qz-fa qz-fa-sw fa fa-times"),s=l(n.SPAN,"qz-fa qz-fa-se qz-text-green fa fa-floppy-o");return a.setAttribute("maxlength",5),a.setAttribute("placeholder","00:00"),a.onkeyup=function(){var e=this.value;this.classList.remove("qz-input-error"),0==/^[0-9:]*$/.test(e)&&this.classList.add("qz-input-error"),3==e.length&&/^\d{3}$/.test(e)&&(this.value=e[0]+e[1]+":"+e[2])},r.onclick=function(){e.finally(),this.parentElement.remove()},s.onclick=function(){var t=this.parentElement.parentElement,n=t.querySelector(".js-input-time"),i=n.value;if(0!=/\d{2}:\d{2}/.test(i)){e.finally();var o=t.querySelector("[id^=hiddenDiaApont]").value;e.save(o,i)}else n.classList.add("qz-input-error")},t.appendChild(i),o.appendChild(a),t.appendChild(o),t.appendChild(r),t.appendChild(s),t};return{style:function(){return l(n.STYLE,"qz-style",r.CSS)},header:function(){return l(n.DIV,"qz-box-head")},buildToggleForDayOff:function(e){return l(n.SPAN,"fa fa-toggle-"+e+" qz-toggle")},buildDayOptions:function(e,i){var o=l(n.DIV,"qz-dropdown qz-column-menu"),r=l(n.SPAN,"fa fa-bars qz-text-teal"),s=l(n.DIV,"qz-dropdown-content"),d=l(n.P,"qz-text-left",":: Abonar Falta"),u=l(n.P,"qz-text-left",":: Mock Time");return d.onclick=function(){var n=this.parentElement.parentElement.parentElement.parentElement;n.querySelector(".js-has-edit-box")||(window.scrollTo(0,300),setTimeout(function(){var i={helpText:a("timeOn"),init:e.activate,finally:e.deactivate,save:function(n,i){e.add(n,i)&&t.reload()}};n.appendChild(c(i))},250))},u.onclick=function(){var e=this.parentElement.parentElement.parentElement.parentElement;e.querySelector(".js-has-edit-box")||(window.scrollTo(0,300),setTimeout(function(){var n={helpText:a("mockTime"),init:i.activate,finally:i.deactivate,save:function(e,n){i.add(e,n)&&t.reload()}};e.appendChild(c(n))},250))},o.appendChild(r),o.appendChild(s),s.appendChild(d),s.appendChild(u),o},headerBeta:function(){var e=s({helpText:"config",humanTime:"",contentClass:"fa fa-flask qz-text-golden",inlineText:!0});return e.className+=" qz-box-compact",e.onclick=function(){t.beta()},e},headerWeeklyGoal:function(e){return s({helpText:"weeklyGoal",humanTime:e,contentClass:"qz-text-black",inlineText:!0})},headerLaborTime:function(e){return s({helpText:"labor",humanTime:e,contentClass:"qz-text-green",inlineText:!0})},headerBalanceTime:function(e){return s({helpText:e.contains("+")?"extra":"pending",humanTime:e,contentClass:"qz-text-"+(e.contains("+")?"green":"primary"),inlineText:!0})},headerNoticeStatus:function(e){var t=s({helpText:"notice",humanTime:e.isGranted()?"ON":"OFF",contentClass:"qz-text-"+(e.isGranted()?"green":"primary"),inlineText:!0});return t.onclick=function(){0==e.isGranted()&&e.requestPermission()},t},balanceTimePerDay:function(e,t){return s({helpText:(t?"totalB":"b")+"alance",humanTime:e,contentClass:"qz-text-"+(t?"purple":"teal")})},dailyGoal:function(e){return s({helpText:"dailyGoal",humanTime:e,contentClass:"qz-text-black"})},laborTimePerDay:function(e){return s({helpText:"labor",humanTime:e,contentClass:"qz-text-green"})},laborTimePerShift:function(e,t,n){var i=s({helpText:t?"shift":"working",humanTime:e,contentClass:t?"":"qz-text-golden"});if(t){var o=i.querySelector(".qz-help-text"),a=o.textContent.replace("_n_",n);o.textContent=a}return i},todayTimeToLeave:function(e,t,n){var i=s({helpText:"exit"+(t?"+":""),humanTime:e,contentClass:"qz-text-primary"});if(0==t){var o=i.querySelector(".qz-help-text"),a=o.textContent.replace("_s_",n);o.textContent=a}return i},buildTimeOnBox:function(e,i){var o=s({helpText:"timeOn",humanTime:i,contentClass:"qz-text-orange"}),a=l(n.SPAN,"qz-fa qz-fa-sw fa fa-times");return a.onclick=function(){var n=this.parentElement.parentElement.querySelector("[id^=hiddenDiaApont]").value;e.remove(n),t.reload()},o.appendChild(a),o},buildMockTime:function(e){var t=l(n.DIV,"FilledSlot qz-text-primary"),i=l(n.SPAN,"Time"+e.direction,e.mockTime),o=l(n.SPAN,"qz-fa qz-fa-se fa fa-times");return t.data("data-key",e.key),t.data("data-mocktime",e.mockTime),o.onclick=function(){var t=this.parentElement,n=t.data("data-key"),i=t.data("data-mocktime");e.remove(n,i),e.finally()},t.appendChild(i),t.appendChild(o),t},buildHeaderMenuBox:function(){var e=l(n.DIV,"qz-box qz-box-icon qz-box-inline qz-dropdown",a("menuIcon")),t=l(n.DIV,"qz-dropdown-content qz-menu"),r=l(n.P,"qz-text-left",a("menuItemHideLastWeekDays"));r.onclick=function(){var e=i.hideLastWeekDays();i.hideLastWeekDays(!e),o.reload()};var s=i.hideLastWeekDays()?"on":"off",c=l(n.SPAN,"fa fa-toggle-"+s+" qz-menu-item-icon");r.appendChild(c),t.appendChild(r);var d=l(n.P,"qz-text-left"),u=l(n.A,"qz-menu-item-anchor",a("menuItemAbout"));return u.href="https://github.com/viniciusknob/queiroz.js",u.target="_blank",d.onclick=function(){u.click()},d.appendChild(u),t.appendChild(d),e.appendChild(t),e}}}();t.module.snippet=l}(document,Queiroz),function(e,t){var n=function(){var t="dayOff",n=[],i=function(e){return e.getDate().padStart(2)+"/"+e.getFixedMonth().padStart(2)},o=function(e){return n.contains(i(e))},a=function(a){o(a)||(n.push(i(a)),e.setItem(t,JSON.stringify(n)))},r=function(a){if(0!=o(a)){var r=n.indexOf(i(a));n.splice(r,1),e.setItem(t,JSON.stringify(n))}};return e.hasItem("dayoff")?(n=JSON.parse(e.getItem("dayoff")),e.setItem(t,JSON.stringify(n)),e.removeItem("dayoff")):e.hasItem(t)&&(n=JSON.parse(e.getItem(t))),{check:function(e){var t=[];e.days.forEach(function(e){0==o(e.date)&&t.push(e)}),e.days=t},is:o,add:a,remove:r}}();n.count=0,t.module.dayoff=n}(localStorage,Queiroz),function(e){var t=e.module,n=t.settings,i=t.dayoff,o=function(){var e=6e4*n.DAILY_GOAL_MINUTES,t=6e4*n.MAX_CONSECUTIVE_MINUTES,o=6e4*n.MAX_DAILY_MINUTES,a=function(){return 6e4*n.WEEKLY_GOAL_MINUTES-i.count*e},r=function(e,t){return e instanceof Date&&t instanceof Date?t.getMillis()-e.getMillis():t-e},l=function(e){return 36e5*e},s=function(e,t){return e instanceof Date&&t instanceof Date?t.getMillis()>e.getMillis():t>e},c=function(e){return 6e4*e},d=function(e){var t=parseInt(e/36e5),n=parseInt(e/6e4%60);return t.padStart(2)+":"+n.padStart(2)},u=function(e){return 0==e?"00:00":e>0?"+"+d(e):e<0?"-"+d(-1*e):void 0},f=function(e){e.days.forEach(function(e){e.periods.forEach(function(e){if(e.shift=!1,e.in&&e.out)if(s(e.in,e.out))e.shift=r(e.in,e.out);else{var t=new Date(e.in.getTime());t.setHours(23,59,59,999);var n=new Date(e.out.getTime());n.setHours(0,0,0,0);var i=r(e.in,t),o=r(n,e.out);e.shift=i+o+1e3}else e.in&&(e.shift=r(e.in,Date.now()))})})},p=function(e){e.worked=0,e.reallyWorked=0,e.days.forEach(function(t){t.worked=0,t.reallyWorked=0,t.worked+=t.timeOn,t.periods.forEach(function(e){e.in&&0==e.out&&t.date.isToday()&&(t.reallyWorked+=e.shift),e.in&&e.out&&(t.worked+=e.shift)}),t.reallyWorked+=t.worked,e.worked+=t.worked,e.reallyWorked+=t.reallyWorked})},m=function(t){var i=0;t.days.forEach(function(t){if(t.balance=0,t.periods.length){var o=n.WORK_DAYS.contains(t.date.getDay());o&&(t.balance=0-e),t.balance+=t.worked,0!=t.date.isToday()&&0!=o||(i+=t.balance),t.totalBalance=i}}),t.weeklyBalance=-1*a()+t.worked},h=function(n){n.days.forEach(function(i){var a=i.periods;if(i.date.isToday()&&a.length){var s=a.last();if(0==s.out){i.worked<=l(4)&&(s.leaveMaxConcec=new Date(s.in.getMillis()+t));var c=e-t,d=-1*n.weeklyBalance<t;if(i.worked>=c&&i.worked<e||d){u=r(i.worked,e);s.leave=new Date(s.in.getMillis()+u),s.balancedLeave=new Date(s.leave.getMillis()-i.totalBalance)}if(i.worked>l(4)){var u=r(i.worked,o);s.leaveMaxDaily=new Date(s.in.getMillis()+u)}s.orderBy=g(s)}}})},g=function(e){var t=["leave","balancedLeave","leaveMaxConcec","leaveMaxDaily"];return t.sort(function(t,n){return null==e[t]?-1:null==e[n]?1:e[t].getMillis()-e[n].getMillis()}),t};return{parse:function(e){e.days.forEach(function(e){e.periods.forEach(function(t){t.in&&(t.in=Date.parseKairos(e.date+" "+t.in)),t.out&&(t.out=Date.parseKairos(e.date+" "+t.out))}),e.date=Date.parseKairos(e.date+" 00:00")}),e.date=Date.now()},compute:function(e){f(e),p(e),m(e),h(e)},toHuman:function(n){n.days.forEach(function(t){t.periods.forEach(function(e){e.in&&(e.in=e.in.getTimeAsString()),e.out&&(e.out=e.out.getTimeAsString()),e.shift&&(e.shift=d(e.shift)),e.leaveMaxConcec&&(e.leaveMaxConcec=e.leaveMaxConcec.getTimeAsString()),e.leave&&(e.leave=e.leave.getTimeAsString()),e.leaveMaxDaily&&(e.leaveMaxDaily=e.leaveMaxDaily.getTimeAsString()),e.balancedLeave&&(e.balancedLeave=e.balancedLeave.getTimeAsString())}),t.goal=d(e),t.worked=d(t.worked),t.reallyWorked=d(t.reallyWorked),t.balance=u(t.balance),t.totalBalance=u(t.totalBalance),t.timeOn&&(t.timeOn=d(t.timeOn))}),n.maxConsecutive=d(t),n.maxDaily=d(o),n.weeklyGoal=d(a()),n.worked=d(n.worked),n.reallyWorked=d(n.reallyWorked),n.weeklyBalance=u(n.weeklyBalance)},zero:"00:00",diff:r,minuteToMillis:c,millisToMinute:function(e){return parseInt(e/6e4)},millisToHuman:d,millisToHumanWithSign:u,humanToMillis:function(e){var t=e.split(":"),n=parseInt(t[0]),i=parseInt(t[1]);return l(n)+c(i)}}}();e.module.time=o}(Queiroz),function(e,t){var n=t.module,i=n.snippet,o=n.time,a=function(){var t="timeOn",n={},r=[],l=function(e){return e.getDate().padStart(2)+"/"+e.getFixedMonth().padStart(2)},s=function(e){return!!n[l(e)]},c=function(e){return n[l(e)]},d=function(i,o){var a=l(i);0==s(i)&&(n[a]=0),n[a]+=o,e.setItem(t,JSON.stringify(n))},u=function(i){0!=s(i)&&(delete n[l(i)],e.setItem(t,JSON.stringify(n)))},f=function(e){r.forEach(function(t){t.update(a,{isActive:e})})};return e.hasItem(t)&&(n=JSON.parse(e.getItem(t))),{buildBox:function(e){return i.buildTimeOnBox(this,e)},check:function(e){e.days.forEach(function(e){e.timeOn=!1,s(e.date)&&(e.timeOn=c(e.date))})},add:function(e,t){var n=o.humanToMillis(t);if(0==!!n)return!1;var i=Date.parseKairos(e+" "+o.zero);return d(i,n),!0},remove:function(e){var t=Date.parseKairos(e+" "+o.zero);u(t)},addObserver:function(e){r.push(e)},activate:function(){f(!0)},deactivate:function(){f(!1)}}}();t.module.timeon=a}(localStorage,Queiroz),function(e,t){var n=t.module,i=n.settings,o=n.time,a=n.strings,r=function(){var n=i.NOTICE_RANGE_MINUTES,r=!0,l=[],s=function(t,n){l.push(new e(t,{body:n,icon:i.NOTICE_ICON})),r=!0},c=function(e,t){return e.replace("_min_",t)},d=function(e,t){r||n.forEach(function(n){i.WEEKLY_GOAL_MINUTES-n==o.millisToMinute(t.reallyWorked)&&s(e,c(a("noticeWeeklyGoal"),n))})},u=function(e,t){r||n.forEach(function(n){t.days.forEach(function(t){t.date.isToday()&&i.DAILY_GOAL_MINUTES-n==o.millisToMinute(t.reallyWorked)&&s(e,c(a("noticeDailyGoal"),n))})})},f=function(e,t){r||n.forEach(function(n){t.days.forEach(function(t){t.date.isToday()&&t.periods.forEach(function(t,i){0==t.out&&t.balancedLeave&&o.millisToMinute(t.balancedLeave.getMillis())-o.millisToMinute(Date.now().getMillis())==n&&s(e,c(a("noticeBalancedLeave"),n))})})})},p=function(e,t){r||n.forEach(function(n){t.days.forEach(function(t){t.date.isToday()&&i.MAX_DAILY_MINUTES-n==o.millisToMinute(t.reallyWorked)&&s(e,c(a("noticeMaxDaily"),n))})})},m=function(e,t){r||n.forEach(function(n){t.days.forEach(function(t){t.date.isToday()&&t.periods.forEach(function(t,r){0==t.out&&i.MAX_CONSECUTIVE_MINUTES-n==o.millisToMinute(t.shift)&&s(e,c(a("noticeMaxConsecutive"),n))})})})};return{closeFiredOnUnload:function(){l.forEach(function(e){e.close()})},check:function(e){r=!1;var n=t.name+" - "+e.date.getTimeAsString();m(n,e),p(n,e),f(n,e),d(n,e),u(n,e)},isGranted:function(){return e&&"granted"==e.permission},requestPermission:function(){e&&e.requestPermission().then(function(e){t.reload()})}}}();t.module.notice=r}(Notification,Queiroz),function(e,t){var n=t.module,i=n.settings,o=n.snippet,a=n.timeon,r=n.notice,l=function(){var n={HEAD:"head",BODY:"body",COLUMN_DAY:".DiaApontamento",CHECKPOINT:".FilledSlot span",DATE:"[id^=hiddenDiaApont]",HEADER:"#SemanaApontamentos div",HEADER_DAY:".weekDayTextSize",TIME_IN:".TimeIN,.TimeINVisualizacao",FOOTER:"footer .LabelEmpresa",TOOGLE:".HfIsFolga",QUEIROZ:"*[class*=qz-]"},s=function(e){setTimeout(e,25)},c=function(t,n){return(n||e).querySelector(t)},d=function(t,n){return(n||e).querySelectorAll(t)},u=function(t,n,i){s(function(){var o=c(t);if("string"==typeof n){var a=e.createElement("DIV");a.innerHTML=n,n=a.firstChild}o.appendChild(n),i&&i()})};return{read:function(){var e={},t=[];return d(n.COLUMN_DAY).forEach(function(e){var i={date:c(n.DATE,e).value,periods:[]};d(n.CHECKPOINT,e).forEach(function(e){var t=e.classList.value,n=e.textContent,o=i.periods;if(/TimeIN/.test(t))o.push({in:n,out:!1});else if(/TimeOUT/.test(t)){var a=o.last();a&&0==a.out?a.out=n:o.push({in:!1,out:n})}}),t.push(i)}),e.days=t,e},hideLastWeekDays:function(e){d(n.COLUMN_DAY).forEach(function(t){var i=!0;e.days.forEach(function(e){var o=c(n.DATE,t).value;e.date.getDateAsKairos()==o&&(i=!1)}),i&&t.remove()})},render:function(e){var t=d(n.COLUMN_DAY);e.days.forEach(function(r){t.forEach(function(t){var l=c(n.DATE,t).value;if(r.date.getDateAsKairos()==l&&(r.timeOn&&t.appendChild(a.buildBox(r.timeOn)),r.periods.length)){var s=i.WORK_DAYS.contains(r.date.getDay());r.periods.forEach(function(e,n){(e.out||0==e.out&&r.date.isToday())&&t.appendChild(o.laborTimePerShift(e.shift,!!e.out,n+1))}),s&&t.appendChild(o.dailyGoal(r.goal)),t.appendChild(o.laborTimePerDay(r.worked,a)),s&&t.appendChild(o.balanceTimePerDay(r.balance,!1)),0!=r.date.isToday()&&0!=s||t.appendChild(o.balanceTimePerDay(r.totalBalance,!0)),r.periods.forEach(function(n,i){0==n.out&&r.date.isToday()&&n.orderBy.forEach(function(i,a){var l=n[i];0!=!!l&&(s&&("leave"==i&&t.appendChild(o.todayTimeToLeave(l,!1,r.goal)),"balancedLeave"==i&&t.appendChild(o.todayTimeToLeave(l,!0))),"leaveMaxConcec"==i&&t.appendChild(o.todayTimeToLeave(l,!1,e.maxConsecutive)),"leaveMaxDaily"==i&&t.appendChild(o.todayTimeToLeave(l,!1,e.maxDaily)))})})}})});var s=o.header();s.appendChild(o.headerWeeklyGoal(e.weeklyGoal)),s.appendChild(o.headerLaborTime(e.worked)),s.appendChild(o.headerBalanceTime(e.weeklyBalance)),s.appendChild(o.headerNoticeStatus(r)),s.appendChild(o.buildHeaderMenuBox()),l.appendToHeader(s)},isLoaded:function(){return c(n.COLUMN_DAY)},getAllColumnDay:function(){return d(n.COLUMN_DAY)},getAllCheckpoint:function(e){return d(n.CHECKPOINT,e)},getDateFromTargetAsString:function(e){return c(n.DATE,e).value},getAllTimeIn:function(e){return d(n.TIME_IN,e)},getAllQueirozElements:function(){return d(n.QUEIROZ)},getHeadersDay:function(e){return d(n.HEADER_DAY,e)},appendToHead:function(e){u(n.HEAD,e)},appendToBody:function(e,t){u(n.BODY,e,t)},appendToHeader:function(e){u(n.HEADER,e)},appendToFooter:function(e){var t=c(n.FOOTER).textContent;t&&0==t.contains(e)&&(c(n.FOOTER).textContent+=" | "+e)},appendToggle:function(e,t){c(n.TOOGLE,e).parentElement.appendChild(t)},getDisplayedDays:function(){var e=[];return d(n.COLUMN_DAY).forEach(function(t){e.push(c(n.DATE,t).value)}),e},injectTimes:function(e){d(n.COLUMN_DAY).forEach(function(i){var a=c(n.DATE,i).value;if(e.has(a)){var r=d(n.CHECKPOINT,i).length;e.get(a).forEach(function(n,l){var s={key:a,mockTime:n,direction:(r+(l+1))%2==0?"OUT":"IN",remove:e.remove,finally:function(){t.reload()}};i.appendChild(o.buildMockTime(s))})}})}}}();t.module.view=l}(document,Queiroz),function(e,t){var n=t.module,i=n.time,o=n.view,a=function(){var t="mockTime",n={},r=[],l=function(){e.setItem(t,JSON.stringify(n))},s=function(e){return e.getDate().padStart(2)+"/"+e.getFixedMonth().padStart(2)},c=function(e){return"string"==typeof e&&(e=Date.parseKairos(e+" "+i.zero)),n[s(e)]},d=function(e,t){if(0==!!e)return!1;"string"==typeof e&&(e=Date.parseKairos(e+" "+i.zero));var o=n[s(e)];if(0==!!o)return!1;if(e&&t){var a=!1;return timeArr=c(e),timeArr.forEach(function(e){t==e&&(a=!0)}),a}return!!o},u=function(){o.injectTimes(a)},f=function(e,t){var o=Date.parseKairos(e+" "+i.zero),a=s(o);if(0==d(o))n[a]=[];else if(d(o,t))return!0;return n[a].push(t),l(),!0},p=function(e,t){if("string"==typeof e&&(e=Date.parseKairos(e+" "+i.zero)),0!=d(e,t)){var o=s(e);if(1==c(e).length)delete n[o];else{var a=[];c(e).forEach(function(e){t!=e&&a.push(e)}),n[o]=a}l()}},m=function(e){r.push(e)},h=function(e){r.forEach(function(t){t.update(a,{isActive:e})})},g=function(){h(!0)},v=function(){h(!1)};return e.hasItem(t)&&(n=JSON.parse(e.getItem(t))),{injectIfExists:u,has:d,get:c,add:f,remove:p,addObserver:m,activate:g,deactivate:v}}();t.module.mocktime=a}(localStorage,Queiroz),function(e,t){var n=t.module,i=n.settings,o=n.keepalive,a=n.mocktime,r=n.snippet,l=n.view,s=n.dayoff,c=n.time,d=n.timeon,u=n.notice,f=function(e){var n=r.buildToggleForDayOff(s.is(e)?"off":"on");return n.onclick=function(){var n=e;s.is(n)?(s.remove(n),s.count--):(s.add(n),s.count++),t.reload()},n},p=function(e,t){var n=l.getDateFromTargetAsString(t),i=!1;return e.days.forEach(function(e){e.date.getDateAsKairos()==n&&(i=!0)}),i},m=function(e){var t=!1;l.getAllColumnDay().forEach(function(e){var n=Date.parseKairos(l.getDateFromTargetAsString(e)+" "+c.zero);if(n.getDay()===i.INITIAL_WEEKDAY&&(t=!0),t&&i.WORK_DAYS.contains(n.getDay())){var o=f(n);if(l.appendToggle(e,o),s.is(n))return void s.count++}})},h=function(e){m(),l.getAllColumnDay().forEach(function(t){var n=l.getHeadersDay(t),i=n[0];n[1].style.display="none";var o={weekday:"short",day:"2-digit",month:"2-digit"},u=Date.parseKairos(l.getDateFromTargetAsString(t)+" "+c.zero),f=u.toLocaleDateString("pt-BR",o);i.innerHTML=f,0==s.is(u)&&p(e,t)&&(i.insertBefore(r.buildDayOptions(d,a),i.firstChild),i.querySelector(".qz-dropdown").onmouseover=function(){i.querySelector(".qz-dropdown-content").style.minWidth=i.offsetWidth+"px"})})},g=function(e){var t=0,n=e.days;n.forEach(function(e,n){e.date.getDay()===i.INITIAL_WEEKDAY&&(t=n)}),e.days=n.slice(t)},v=function(){l.appendToHead(r.style()),a.injectIfExists();var e=l.read();c.parse(e),g(e),i.hideLastWeekDays()&&l.hideLastWeekDays(e),s.check(e),d.check(e),h(e),c.compute(e),u.check(e),c.toHuman(e),l.render(e),o.init()},y=function(){var e=setInterval(function(){l.isLoaded()&&(clearInterval(e),v())},i.USERSCRIPT_DELAY)};t.bless=function(){return l.isLoaded()?v():y(),d.addObserver(o),a.addObserver(o),e.addEventListener("unload",u.closeFiredOnUnload),l.appendToFooter(this.description),this.description},t.beta=function(){var e=document.querySelector(".qz-modal");if(e)return e.classList.remove("js-hide"),void e.classList.add("js-show");l.appendToBody('<div class="qz-modal"><div class="qz-modal-dialog"><div class="qz-modal-content"><div class="qz-modal-header">Queiroz.js 3.0 is coming <button class="qz-modal-close"><span class="fa fa-times"></span></button></div><div class="qz-modal-body qz-text-center"><h1>Coming soon!</h1></div><div class="qz-modal-footer"><small>Queiroz.js 3.4.42</small></div></div></div></div>',function(){document.querySelector(".qz-modal-close").onclick=function(){e||(e=document.querySelector(".qz-modal")),e.classList.remove("js-show"),e.classList.add("js-hide")}})},t.reload=function(){l.getAllQueirozElements().forEach(function(e){e.remove()}),s.count=0,v()}}(window,Queiroz),Queiroz.bless();